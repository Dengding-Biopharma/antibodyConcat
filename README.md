# antibodyConcat
The procedure are currently split into parts for easier modification.

## Installation
Simply using git clone.

## Requirements
    Predfull
    Rapsearch
    msslash
We recommend to install Predfull and msslash by their github's guidance(git clone and install), and install the rapsearch by conda (e.g. conda install rapsearch)

## sample usage



## I_generateInputReads.py
As the name said, it selects the input reads from the original input files by parameters. 
You can define the parameters of your splicing by running this code.
This code will generate a folder named by parameters, which also contains the setting(parameters) file and the input reads.

    eg. python I_generateInputReads.py -source avastin -score 0.8 -t 2 -kl 5 -ku 10 -more 0

if 'more' == 1, the program will select more data below the score you indicate, make sure that you have the 'Spectrum' folder in the 'source' folder (eg. avastin/Spectrum) and the tools named 'PredFull' installed in the same path (eg. PredFull/predfull.py).
## II_assembleFromReads.py
The start step of splicing, you can just feed the folder path that was generated by the "I" step.
The output is the initial splicing result(contigs) waiting for further processing.

    eg. python II_assembleFromReads.py -froot avastin_5-10mer_0.8_2

froot stands for file root

## III_sortOutputs.py
Sort the output contigs by the score sum of matched reads.

    eg. python III_sortOutputs.py -froot avastin_5-10mer_0.8_2

## IV_matchRegion.py
Find the templates that have most coverage in template dataset for these combinations:
Heavy_NonConstant
Heavy_constant
Light_NonConstant
Light_constant

    eg .python IV_matchRegion.py -froot avastin_5-10mer_0.8_2 -template homo


## V_FindTemplateGroups.py
Generate a template coverage visible report (html format).

    eg .python V_FindTemplateGroups.py -froot avastin_5-10mer_0.8_2 -source avastin

## VI_concatenateBestFragments.py
Concatenate the best fragments for different chain (heavy,light) separately.

    eg. python VI_concatenateBestFragments.py -froot avastin_5-10mer_0.8_2 -source avastin -chain light

## requirements
    requirements.txt
    rapsearch
    Predfull
